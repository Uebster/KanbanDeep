<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n-title="profile.pageTitle">Perfil do Usu√°rio</title>
  <link rel="stylesheet" href="../static/universal.css">
  <link rel="stylesheet" href="../static/profile.css">
</head>
<body>
    <div id="message-container"></div>
    
    <!-- Header corrigido seguindo o padr√£o do kanban.html -->
    <header id="main-header">
        <!-- Menu de Perfil (Esquerda) -->
        <div class="menu-container">
            <button id="user-avatar-btn" class="avatar-btn">
                <img id="user-avatar" src="" alt="Avatar do Usu√°rio">
            </button>
            <div id="profile-dropdown" class="dropdown">            
                <button id="switch-user-btn" data-i18n="kanban.profileMenu.switchProfile">üîÅ Trocar Perfil</button>
                <button id="kanban-btn" data-i18n="kanban.header.myBoards">üìã Meus Quadros</button>
                <button id="my-groups-btn" data-i18n="kanban.profileMenu.myGroups">üë• Meus Grupos</button>
                <button id="friends-btn" data-i18n="kanban.profileMenu.friends">üßë‚Äçü§ù‚Äçüßë Amigos</button>
                <button id="templates-btn" data-i18n="kanban.profileMenu.manageTemplates">üé® Gerenciar Templates</button>
                <button id="notifications-btn" data-i18n="kanban.profileMenu.notifications">üîî Notifica√ß√µes</button>
                <hr>
                <button id="exit-btn" data-i18n="kanban.profileMenu.exit">üö™ Sair</button>
            </div>
        </div>

        <!-- T√≠tulo Centralizado (substituindo o menu de quadros) -->
        <h1 id="page-title" data-i18n="profile.pageTitle" style="flex-grow: 1; text-align: center;"></h1>

        <!-- Espa√ßo vazio na direita para manter a estrutura (sem menu de a√ß√µes) -->
        <div class="menu-container" style="visibility: hidden;"><button class="avatar-btn"></button></div>
    </header>
    
    <main class="card">
        <!-- O cabe√ßalho do card foi removido para simplificar e alinhar com create-user.html -->
        <form id="profile-form">
      <div class="form-layout-3col">
        <!-- Coluna 1: Identidade e Conta -->
        <div class="form-column">
          <div class="form-section">
            <h2 data-i18n="profile.section.profile"></h2>
            <div class="avatar-container">
              <div class="avatar-preview" id="avatar-preview">
                <span id="avatar-text" class="avatar-preview-text">?</span>
                <img id="avatar-image" src="" alt="Avatar Preview" style="display: none;">
              </div>
              <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
              <button type="button" id="btn-upload-avatar" class="btn" data-i18n="profile.button.changeAvatar"><span>üì∑</span></button>
            </div>
            <div class="form-group">
              <label for="name" class="required" data-i18n="createUser.label.fullName"></label>
              <input type="text" id="name" required data-i18n-placeholder="createUser.placeholder.fullName">
            </div>
            <div class="form-group">
              <label for="username" class="required" data-i18n="createUser.label.username"></label>
              <input type="text" id="username" required data-i18n-placeholder="createUser.placeholder.username">
            </div>
            <div class="form-group">
              <label for="bio" data-i18n="createUser.label.bio"></label>
              <textarea id="bio" rows="5" data-i18n-placeholder="createUser.placeholder.bio"></textarea>
            </div>
          </div>
          <div class="form-section">
            <h2 data-i18n="profile.section.accountSecurity"></h2>
            <div class="account-actions">
              <button type="button" id="change-password-account" class="btn" data-i18n="profile.button.changePassword"><span>üîë</span></button>
              <button type="button" id="btn-delete-account" class="btn danger" data-i18n="profile.button.deleteAccount"><span>üóëÔ∏è</span></button>
            </div>
          </div>
        </div>

        <!-- Coluna 2: Detalhes e Prefer√™ncias Gerais -->
        <div class="form-column">
          <div class="form-section">
            <h2 data-i18n="createUser.section.personalInfo"></h2>
            <div class="form-group">
              <label for="birthdate" data-i18n="createUser.label.birthdate"></label>
              <input type="date" id="birthdate">
            </div>
            <div class="form-group">
              <label for="gender" data-i18n="createUser.label.gender"></label>
              <div class="custom-select">
                <select id="gender">
                  <option value="" data-i18n="createUser.gender.select"></option>
                  <option value="male" data-i18n="createUser.gender.male"></option>
                  <option value="female" data-i18n="createUser.gender.female"></option>
                  <option value="non-binary" data-i18n="createUser.gender.nonBinary"></option>
                  <option value="other" data-i18n="createUser.gender.other"></option>
                  <option value="prefer-not-to-say" data-i18n="createUser.gender.preferNotToSay"></option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label for="location" data-i18n="createUser.label.location"></label>
              <input type="text" id="location" data-i18n-placeholder="createUser.placeholder.location">
            </div>
          </div>
          <div class="form-section">
            <h2 data-i18n="createUser.section.contacts"></h2>
            <div class="form-group">
              <label for="email" data-i18n="createUser.label.email"></label>
              <input type="email" id="email" data-i18n-placeholder="createUser.placeholder.email">
            </div>
            <div class="form-group">
              <label for="whatsapp" data-i18n="createUser.label.whatsapp"></label>
              <input type="tel" id="whatsapp" data-i18n-placeholder="createUser.placeholder.whatsapp">
            </div>
            <div class="form-group">
              <label for="linkedin" data-i18n="createUser.label.linkedin"></label>
              <input type="url" id="linkedin" data-i18n-placeholder="createUser.placeholder.linkedin">
            </div>
          </div>
          <!-- SE√á√ÉO MOVIDA PARA A COLUNA 2 -->
          <div class="form-section">
            <h2 data-i18n="profile.section.defaultContent"></h2>
            <div class="form-group">
              <label for="default-tag-template" data-i18n="preferences.defaultTagSet"></label>
              <div class="custom-select">
                <select id="default-tag-template"></select>
              </div>
              <button type="button" id="manage-templates-btn" class="btn" style="width: 100%; margin-top: 15px;" data-i18n="kanban.profileMenu.manageTemplates"></button>
            </div>
          </div>
        </div>

        <!-- Coluna 3: Prefer√™ncias de Visualiza√ß√£o -->
        <div class="form-column">
          <div class="form-section">
            <h2 data-i18n="preferences.title"></h2>
            <div class="form-group">
              <label for="language" data-i18n="preferences.language"></label>
              <div class="custom-select">
                <select id="language">
                  <option value="pt-BR" data-i18n="preferences.language.pt"></option>
                  <option value="en-US" data-i18n="preferences.language.en"></option>
                  <option value="es-ES" data-i18n="preferences.language.es"></option>
                  <option value="fr-FR" data-i18n="preferences.language.fr"></option>
                  <option value="de-DE" data-i18n="preferences.language.de"></option>
                  <option value="it-IT" data-i18n="preferences.language.it"></option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label for="theme" data-i18n="preferences.theme"></label>
              <div class="custom-select">
                <select id="theme">
                  <option value="auto" data-i18n="preferences.theme.systemDefault"></option>
                  <option value="dark" data-i18n="preferences.theme.dark"></option>
                  <option value="dark-gray" data-i18n="preferences.theme.darkGray"></option>
                  <option value="light-gray" data-i18n="preferences.theme.lightGray"></option>
                  <option value="light" data-i18n="preferences.theme.light"></option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label for="font-family" data-i18n="preferences.font"></label>
              <div class="custom-select">
                <select id="font-family">
                  <option value="Segoe UI, Inter, sans-serif" data-i18n="profile.font.default"></option>
                  <option value="Roboto, sans-serif">Roboto</option>
                  <option value="Open Sans, sans-serif">Open Sans</option>
                  <option value="Lato, sans-serif">Lato</option>
                  <option value="Montserrat, sans-serif">Montserrat</option>
                  <option value="Verdana, sans-serif">Verdana</option>
                  <option value="Arial, sans-serif">Arial</option>
                  <option value="Helvetica, sans-serif">Helvetica</option>
                  <option value="Times New Roman, serif">Times New Roman</option>
                  <option value="Courier New, monospace">Courier New</option>
                  <option value="Georgia, serif">Georgia</option>
                  <option value="Palatino, serif">Palatino</option>
                  <option value="Garamond, serif">Garamond</option>
                  <option value="Comic Sans MS, cursive">Comic Sans MS</option>
                  <option value="Impact, fantasy">Impact</option>
                  <option value="Tahoma, sans-serif">Tahoma</option>
                  <option value="Trebuchet MS, sans-serif">Trebuchet MS</option>
                  <option value="Lucida Sans Unicode, sans-serif">Lucida Sans Unicode</option>
                  <option value="Lucida Console, monospace">Lucida Console</option>
                  <option value="Lucida Sans, sans-serif">Lucida Sans</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label for="font-size" data-i18n="preferences.fontSize"></label>
              <div class="custom-select">
                <select id="font-size">
                  <option value="small" data-i18n="fontSize.small"></option>
                  <option value="medium" data-i18n="fontSize.medium"></option>
                  <option value="large" data-i18n="fontSize.large"></option>
                  <option value="x-large" data-i18n="fontSize.xLarge"></option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label data-i18n="preferences.primaryColor"></label>
              <div id="color-palette-container" class="color-palette">
                <div class="color-swatch special" data-action="remove-primary" data-i18n-title="preferences.primaryColor.none">üö´</div>
                <div class="color-swatch" style="background-color: #4cd4e6;" data-hex="#4cd4e6" data-rgb="76, 212, 230" data-i18n-title="preferences.primaryColor.default"></div>
                <div class="color-swatch" style="background-color: #9a1eff;" data-hex="#9a1eff" data-rgb="154, 30, 255"></div>
                <div class="color-swatch" style="background-color: #1eff1e;" data-hex="#1eff1e" data-rgb="30, 255, 30"></div>
                <div class="color-swatch" style="background-color: #f552ed;" data-hex="#f552ed" data-rgb="245, 82, 237"></div>
                <div class="color-swatch" style="background-color: #ff831e;" data-hex="#ff831e" data-rgb="255, 131, 30"></div>
                <div class="color-swatch" style="background-color: #1e47ff;" data-hex="#1e47ff" data-rgb="30, 71, 255"></div>
                <div class="color-swatch" style="background-color: #ff1e1e;" data-hex="#ff1e1e" data-rgb="255, 30, 30"></div>
                <div class="color-swatch" style="background-color: #c3ff1e;" data-hex="#c3ff1e" data-rgb="195, 255, 30"></div>
                <div class="color-swatch" style="background-color: #ffd700;" data-hex="#ffd700" data-rgb="255, 215, 0"></div>
                <div class="color-swatch" style="background-color: #ffffff;" data-hex="#ffffff" data-rgb="255, 255, 255"></div>
                <div class="color-swatch" style="background-color: #000000;" data-hex="#000000" data-rgb="0, 0, 0"></div>
              </div>
            </div>
          </div>
          <div class="form-section">
            <h2 data-i18n="profile.section.kanbanDisplay"></h2>
            <fieldset class="form-group">
                <legend data-i18n="preferences.displayOnBoard"></legend>
                <label class="checkbox-container" data-i18n="preferences.showBoardIcon"> <input type="checkbox" id="pref-board-show-icon"><span class="checkmark"></span></label>
                <label class="checkbox-container" data-i18n="preferences.showBoardTitle"> <input type="checkbox" id="pref-board-show-title"><span class="checkmark"></span></label>
                <label class="checkbox-container" data-i18n="preferences.smartHeader"> <input type="checkbox" id="pref-smart-header"><span class="checkmark"></span></label>
            </fieldset>
            <fieldset class="form-group">
                <legend data-i18n="preferences.displayOnCard"></legend>
                <label class="checkbox-container" data-i18n="preferences.showTags"> <input type="checkbox" id="pref-card-show-tags"><span class="checkmark"></span></label>
                <label class="checkbox-container" data-i18n="preferences.showDueDate"> <input type="checkbox" id="pref-card-show-date"><span class="checkmark"></span></label>
                <label class="checkbox-container" data-i18n="preferences.showStatus"> <input type="checkbox" id="pref-card-show-status"><span class="checkmark"></span></label>
                <label class="checkbox-container" data-i18n="preferences.showAssignee"> <input type="checkbox" id="pref-card-show-assignment"><span class="checkmark"></span></label>
                <label class="checkbox-container" data-i18n="preferences.showDetailsOnHover"> <input type="checkbox" id="pref-card-show-details"><span class="checkmark"></span></label>
            </fieldset>
          </div>
        </div>
      </div>

      <!-- Se√ß√£o de Privacidade -->
      <div class="form-section privacy-full-width">
        <h2 data-i18n="profile.section.privacy"></h2>
        <div class="privacy-options">
          <div class="privacy-option" data-value="public"><h4 data-i18n="profile.privacy.public.title"></h4><p data-i18n="profile.privacy.public.desc"></p></div>
          <div class="privacy-option" data-value="friends"><h4 data-i18n="profile.privacy.friends.title"></h4><p data-i18n="profile.privacy.friends.desc"></p></div>
          <div class="privacy-option selected" data-value="private"><h4 data-i18n="profile.privacy.private.title"></h4><p data-i18n="profile.privacy.private.desc"></p></div>
        </div>
      </div>

      <!-- Se√ß√£o de Grupos -->
      <div class="form-section groups-full-width">
        <h2 data-i18n="kanban.profileMenu.myGroups"></h2>
        <div id="groups-container" class="groups-list">
          <p class="no-groups-message" data-i18n="profile.feedback.noGroups"></p>
        </div>
        <div class="group-section-actions">
            <button type="button" id="manage-groups-btn" class="btn" data-i18n="profile.button.manageGroups"></button>
            <button type="button" id="btn-join-group" class="btn" data-i18n="profile.button.findGroups"><span>üîç</span></button>
        </div>
      </div>

            <div class="actions">
        <button type="button" id="btn-cancel" class="btn cancel" data-i18n="ui.cancel"><span>‚ùå</span></button>
        <button type="button" id="btn-save" class="btn confirm" data-i18n="profile.button.saveChanges"><span>üíæ</span></button>
            </div>
        </form>
    </main>

    <script type="module" src="../js/main.js"></script>
</body>
</html>